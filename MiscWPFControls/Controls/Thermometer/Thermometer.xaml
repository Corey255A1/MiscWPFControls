<UserControl x:Class="MiscWPFControls.Controls.Thermometer.Thermometer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MiscWPFControls.Controls.Thermometer"
             xmlns:conv="clr-namespace:MiscWPFControls.Converters"
             mc:Ignorable="d" d:Height="100" d:Width="50">
    <UserControl.Resources>
        <ResourceDictionary>
            <conv:TemperatureConverter x:Key="TemperatureConverter"/>
            <conv:ScaleConverter x:Key="ScaleConverter" MaxValue="255"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Viewbox>
        <Canvas Height="300" Width="120">        
            <Rectangle Stroke="Black" StrokeThickness="3" RadiusX="5" RadiusY="5" Canvas.Left="45" Width="40" Height="255" Fill="White"/>
                <Rectangle RadiusX="10" RadiusY="10" Fill="Red" Height="{Binding PercentageOfRange, Converter={StaticResource ScaleConverter}}" Width="20" Canvas.Left="55" Canvas.Bottom="50"/>
            <TextBlock Text="{Binding MaxTemperatureFormatted, FallbackValue=50 °C}" FontSize="12" FontWeight="Bold"/>
            <TextBlock Text="{Binding MinTemperatureFormatted, FallbackValue=-100 °C}" Canvas.Bottom="50" FontSize="12" FontWeight="Bold"/>
            <Ellipse Stroke="Black" StrokeThickness="3" Fill="Red" Canvas.Bottom="0" Canvas.Left="35" Width="60" Height="60"/>
            <TextBlock Text="{Binding TemperatureFormatted, FallbackValue=100 °C}" FontSize="14" FontWeight="Bold" Canvas.Bottom="20" Canvas.Left="45"/>
        </Canvas>
    </Viewbox>
</UserControl>
